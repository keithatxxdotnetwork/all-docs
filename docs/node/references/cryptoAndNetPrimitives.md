# Cryptographic and Network Primitives
There are various cryptographic primitives used in the xx Network; some
are provided by the xx Network and some are generated by the Node
operator.

## Primitives Provided by xx Network

The following primitives are provided to you by the xx Network as
downloads from public repositories.

<table>
<tbody>
  <tr>
    <td>Scheduling TLS Certificate</td>
    <td>Provided inside the tarball</td>
    <td>A TLS certificate is provided to be used to identify the Scheduling server.</td>
  </tr>
  <tr>
    <td>Scheduling Server Address</td>
    <td>Provided inside the tarball</td>
    <td>The DNS address of the Scheduling server is pre-populated inside the YAML files for Node and Gateway.</td>
  </tr>
  <tr>
    <td>Wrapper Script Bucket Address</td>
    <td>Provided inside the tarball</td>
    <td>The IP address the Wrapper Script uses to update the binaries. It is pre-populated in the Wrapper Script.</td>
  </tr>
  <tr>
    <td>Log Bucket Address</td>
    <td>Provided inside the tarball</td>
    <td>The IP address the Wrapper Script uses to upload logs to. It is pre-populated in the Wrapper Script.</td>
  </tr>
  <tr>
    <td>cMix Cyclic Group</td>
    <td>Provided as part of the NDF on initial registration</td>
    <td>The cMix cyclic group is the modulo cyclic group in which cMix operations are conducted. At launch, this will be defined by a 2048-bit strong and safe prime with a generator of 2.</td>
  </tr>
  <tr>
    <td>E2E Cyclic Group</td>
    <td>Provided as part of the NDF on initial registration</td>
    <td>The E2E cyclic group is the modulo cyclic group in which end-to-end encryption operations by clients will be conducted. At launch, this will be defined by a 3192-bit strong and safe prime with a generator of 2.</td>
  </tr>
  <tr>
    <td>Genesis Block</td>
    <td>Provided inside the xx chain binary</td>
    <td>The genesis block contains all the initial information for the network.</td>
  </tr>
</tbody>
</table>

## Primitives Created by the Node Operator

The following primitives are generated before and during the initial
registration of the Node. More details about generation can be found in
[Generate Identity
Information](../node/node-configuration/generate-creds).

### TLS Credentials

The TLS credentials are generated as X.509, SHA-256, RSA 4096-bits, and
are recommended to last 730 days (2 years). The generated credentials
include:

-   cMix TLS certificate
-   cMix private key
-   Gateway TLS certificate
-   Gateway private key

### ID File (IDF)

IDs are 264 bits and consist of a 256-bit hash (BLAKE2b) of a salt and
the RSA public key from the Node’s TLS certificate appended with 8 bits
that describe the ID type.

```ID = Hash(Node_PubKey, Salt) + TYPE```

Due to the construction of the ID, the ownership of the ID can be proved
under RSA’s cryptographic assumptions. Furthermore, due to the hash, IDs
are unpredictably generated in a large sparse space, so it is
overwhelmingly improbable that independently generated IDs will ever
collide, so no central checking of ID generation is necessary.

The last byte of the ID is a type byte that describes what type of
entity it belongs to. The options for type are:

<table>
<thead>
  <tr>
    <th>Type</th>
    <th>Hex</th>
    <th>Note</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td>Generic</td>
    <td>0x00</td>
    <td>Used for one-off entities such as the Permissioning server</td>
  </tr>
  <tr>
    <td>Gateway</td>
    <td>0x01</td>
    <td>Used for Gateways</td>
  </tr>
  <tr>
    <td>Node</td>
    <td>0x02</td>
    <td>Used for cMix Nodes</td>
  </tr>
  <tr>
    <td>User</td>
    <td>0x03</td>
    <td>Used for clients on the network</td>
  </tr>
  <tr>
    <td>Group</td>
    <td>0x04</td>
    <td>Used for each group chat</td>
  </tr>
</tbody>
</table>

On the first run, cMix automatically generates the ID and saves it to a
JSON file with the following structure.

<table>
<tbody>
  <tr>
    <td>id</td>
    <td>The ID of cMix or Gateway presented as a base 64 encoded string.</td>
  </tr>
  <tr>
    <td>type</td>
    <td>The type of ID is shown here for readability.</td>
  </tr>
  <tr>
    <td>salt </td>
    <td>The salt used to generate the ID.</td>
  </tr>
  <tr>
    <td>dBytes</td>
    <td>The ID of cMix or Gateway presented as an array of bytes.</td>
  </tr>
  <tr>
    <td>hexNodeID</td>
    <td>The ID of cMix or Gateway presented as a hexadecimal number.</td>
  </tr>
</tbody>
</table>

```
{
    "id":"4YtvGZrivai2EIZew8OOOE1YtYW/LvzhooDyAVp6yxQC",
    "type":"node",
    "salt":[155, 19, 124, 4, 101, 32, 154, 84, 32, 100, 8, 236, 220, 228, 161, 237, 62, 124, 81, 33, 164, 69, 10, 20, 59, 209, 181, 157, 250, 186, 67, 247],
    "idBytes":[225, 139, 111, 25, 154, 226, 189, 168, 182, 16, 134, 94, 195, 195, 142, 56, 77, 88, 181, 133, 191, 46, 252, 225, 162, 128, 242, 1, 90, 122, 203, 20, 2],
    "hexNodeID":"0xe18b6f199ae2bda8b610865ec3c38e384d58b585bf2efce1a280f2015a7acb14"
}
```

### Wallet Mnemonic and Address

Each wallet you generate will have two mnemonics (quantum secure and
regular) and an address. The mnemonic phrase is an easier way for users
to generate their private key. Each mnemonic phrase consists of 24
words. Refer to the [sleeve
repository](https://github.com/xx-labs/sleeve) to learn more.

The wallet address is a base 58 encoding of the public key for the
wallet.

### Session Keys

Each validator generates four sessions keys that are used during xx
chain operations to sign different messages. If a Node operator loses
their session keys, they can generate new ones. To learn more, refer to the [Substrate
documentation](https://docs.substrate.io/deploy/keys-and-network-operations/#session-keys-and-types).

## Gensis Block Hash

The BLAKE2 hash for the gensis block is shown below.
```0x895af51ef894d3b96df443714028c4f72f86ba929ae9530f689ebe212d87082f```
