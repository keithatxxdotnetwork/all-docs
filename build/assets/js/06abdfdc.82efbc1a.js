"use strict";(self.webpackChunkxxnetwork_docs=self.webpackChunkxxnetwork_docs||[]).push([[3371],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>f});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u=r.createContext({}),p=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=p(e.components);return r.createElement(u.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,u=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),c=p(n),m=a,f=c["".concat(u,".").concat(m)]||c[m]||d[m]||o;return n?r.createElement(f,i(i({ref:t},s),{},{components:n})):r.createElement(f,i({ref:t},s))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l[c]="string"==typeof e?e:a,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5076:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var r=n(7462),a=(n(7294),n(3905));const o={sidebar_position:3},i="3. Firewall Configuration",l={unversionedId:"node/node-configuration/node-firewall",id:"node/node-configuration/node-firewall",title:"3. Firewall Configuration",description:"In this step you will configure the firewall of the node computer.",source:"@site/docs/node/node-configuration/3-node-firewall.md",sourceDirName:"node/node-configuration",slug:"/node/node-configuration/node-firewall",permalink:"/all-docs/docs/node/node-configuration/node-firewall",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"2. Software Dependencies",permalink:"/all-docs/docs/node/node-configuration/software-dependencies"},next:{title:"4. Port Forwarding Configuration",permalink:"/all-docs/docs/node/node-configuration/node-port-forwarding"}},u={},p=[{value:"Add firewall rules via <code>ufw</code>",id:"add-firewall-rules-via-ufw",level:2},{value:"Enable the firewall",id:"enable-the-firewall",level:2},{value:"Check the current rules",id:"check-the-current-rules",level:2},{value:"\ud83c\udf9e\ufe0f Demonstration Video",id:"\ufe0f-demonstration-video",level:2}],s={toc:p},c="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(c,(0,r.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"3-firewall-configuration"},"3. Firewall Configuration"),(0,a.kt)("p",null,"In this step you will configure the firewall of the node computer."),(0,a.kt)("p",null,"Two ports are required to be accessible for other cMix node computers to connect to yours."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"By default ",(0,a.kt)("inlineCode",{parentName:"li"},"xxnetwork-chain")," is set to use port 15974 in the ",(0,a.kt)("inlineCode",{parentName:"li"},"xxnetwork-chain.service")," file."),(0,a.kt)("li",{parentName:"ul"},"By default ",(0,a.kt)("inlineCode",{parentName:"li"},"xxnetwork-cmix")," is set to use port 11420 in the ",(0,a.kt)("inlineCode",{parentName:"li"},"cmix.yaml")," file.")),(0,a.kt)("h2",{id:"add-firewall-rules-via-ufw"},"Add firewall rules via ",(0,a.kt)("inlineCode",{parentName:"h2"},"ufw")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Copy and run ..."',title:'"Copy',and:!0,run:!0,'..."':!0},"sudo ufw disable\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Sample Output"',title:'"Sample','Output"':!0},"Firewall stopped and disabled on system startup\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Copy and run ..."',title:'"Copy',and:!0,run:!0,'..."':!0},'sudo ufw allow 15974/tcp comment "xx network chain"\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Copy and run ..."',title:'"Copy',and:!0,run:!0,'..."':!0},'sudo ufw allow 11420/tcp comment "xx network cMix"\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Sample Output"',title:'"Sample','Output"':!0},"Rules updated\nRules updated (v6)\n")),(0,a.kt)("admonition",{title:"Are you connected remotely?",type:"danger"},(0,a.kt)("p",{parentName:"admonition"},"Before enabling the firewall, be sure you have added rules for any ports required for remote administration. For example, if you are administering the computer remotely with SSH via port 22, you will need to issue the following command ..."),(0,a.kt)("p",{parentName:"admonition"},(0,a.kt)("inlineCode",{parentName:"p"},'sudo ufw allow 22/tcp comment "ssh"'))),(0,a.kt)("h2",{id:"enable-the-firewall"},"Enable the firewall"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Copy and run ..."',title:'"Copy',and:!0,run:!0,'..."':!0},"sudo ufw enable\n")),(0,a.kt)("p",null,"Pressing ",(0,a.kt)("inlineCode",{parentName:"p"},"Enter")," alone will not enable the firewall. You must input ",(0,a.kt)("inlineCode",{parentName:"p"},"y"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Sample Output"',title:'"Sample','Output"':!0},"Command may disrupt existing ssh connections. Proceed with operation (y|n)?\nFirewall is active and enabled on system startup\n")),(0,a.kt)("h2",{id:"check-the-current-rules"},"Check the current rules"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Copy and run ..."',title:'"Copy',and:!0,run:!0,'..."':!0},"sudo ufw status\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx",metastring:'title="Sample Output"',title:'"Sample','Output"':!0},"Status: active\n\nTo                         Action      From\n--                         ------      ----\n15974/tcp                  ALLOW       Anywhere                   # xx network chain\n11420/tcp                  ALLOW       Anywhere                   # xx network cMix\n15974/tcp (v6)             ALLOW       Anywhere (v6)              # xx network chain\n11420/tcp (v6)             ALLOW       Anywhere (v6)              # xx network cMix\n")),(0,a.kt)("h2",{id:"\ufe0f-demonstration-video"},"\ud83c\udf9e\ufe0f ",(0,a.kt)("a",{parentName:"h2",href:"https://www.youtube.com/watch?v=U4obVlHVxvw&t=118s"},"Demonstration Video")))}d.isMDXComponent=!0}}]);