"use strict";(self.webpackChunkxxnetwork_docs=self.webpackChunkxxnetwork_docs||[]).push([[1782],{3905:(e,t,i)=>{i.d(t,{Zo:()=>d,kt:()=>u});var n=i(7294);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var l=n.createContext({}),c=function(e){var t=n.useContext(l),i=t;return e&&(i="function"==typeof e?e(t):o(o({},t),e)),i},d=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},p="mdxType",x={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var i=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=c(i),h=r,u=p["".concat(l,".").concat(h)]||p[h]||x[h]||a;return i?n.createElement(u,o(o({ref:t},d),{},{components:i})):n.createElement(u,o({ref:t},d))}));function u(e,t){var i=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=i.length,o=new Array(a);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:r,o[1]=s;for(var c=2;c<a;c++)o[c]=i[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,i)}h.displayName="MDXCreateElement"},5311:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>x,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var n=i(7462),r=(i(7294),i(3905));const a={},o=void 0,s={unversionedId:"wiki/softwareOverview",id:"wiki/softwareOverview",title:"softwareOverview",description:"The xx network codebase is combined between xx Labs\u2019 consensus software",source:"@site/docs/wiki/softwareOverview.md",sourceDirName:"wiki",slug:"/wiki/softwareOverview",permalink:"/all-docs/docs/wiki/softwareOverview",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"sendCoins",permalink:"/all-docs/docs/wiki/sendCoins"},next:{title:"telemetry",permalink:"/all-docs/docs/wiki/telemetry"}},l={},c=[{value:"xx network Codebase",id:"xx-network-codebase",level:2},{value:"Core",id:"core",level:3},{value:"xx network/Primitives",id:"xx-networkprimitives",level:4},{value:"xx network/Crypto",id:"xx-networkcrypto",level:4},{value:"xx network/Comms",id:"xx-networkcomms",level:4},{value:"xx network/Scheduling-Scripts",id:"xx-networkscheduling-scripts",level:4},{value:"Elixxir Codebase",id:"elixxir-codebase",level:2},{value:"Core",id:"core-1",level:3},{value:"Elixxir/Primitives",id:"elixxirprimitives",level:4},{value:"Elixxir/Crypto",id:"elixxircrypto",level:4},{value:"Elixxir/Comms",id:"elixxircomms",level:4},{value:"Elixxir/GPUMaths",id:"elixxirgpumaths",level:4},{value:"Services",id:"services",level:3},{value:"Elixxir/Server",id:"elixxirserver",level:4},{value:"Elixxir/Gateway",id:"elixxirgateway",level:4},{value:"Elixxir/Scheduling",id:"elixxirscheduling",level:4},{value:"Elixxir/Notifications",id:"elixxirnotifications",level:4},{value:"Elixxir/Authorizer",id:"elixxirauthorizer",level:4},{value:"Elixxir/Client Registrar",id:"elixxirclient-registrar",level:4},{value:"Clients",id:"clients",level:3},{value:"Elixxir/Client API (xxDK)",id:"elixxirclient-api-xxdk",level:4},{value:"Elixxir/User Discovery (UD)",id:"elixxiruser-discovery-ud",level:4},{value:"Elixxir/Mobile Clients",id:"elixxirmobile-clients",level:4},{value:"Tools",id:"tools",level:3},{value:"Elixxir/Wrapper Script",id:"elixxirwrapper-script",level:4},{value:"Elixxir/DevOps",id:"elixxirdevops",level:4},{value:"Elixxir/Integration",id:"elixxirintegration",level:4},{value:"Elixxir/Local Environment",id:"elixxirlocal-environment",level:4},{value:"Version Scheme",id:"version-scheme",level:3},{value:"xx labs Codebase",id:"xx-labs-codebase",level:2},{value:"xx-labs/sleeve",id:"xx-labssleeve",level:4},{value:"xx-labs/xxchain",id:"xx-labsxxchain",level:4},{value:"xx-labs/substrate",id:"xx-labssubstrate",level:4}],d={toc:c},p="wrapper";function x(e){let{components:t,...i}=e;return(0,r.kt)(p,(0,n.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("img",{src:"Codebase_Overview_Figure_-v3.0-.png",title:"Overview of the codebase showing relationships and dependencies. Arrows indicate dependencies.",width:"796",height:"796",alt:"Overview of the codebase showing relationships and dependencies. Arrows indicate dependencies."}),"The xx network codebase is combined between xx Labs\u2019 consensus software and Elixxir\u2019s cMix protocol.",(0,r.kt)("p",null,"Elixxir software is organized into four groups of repositories as shown\nin the figure: Core, Services, Clients, and Tools. The ",(0,r.kt)("em",{parentName:"p"},"Core")," libraries\nhandle functionality across Clients and Services, which contain data\nstructures, interfaces, and cryptography common to many xx network\ncomponents. ",(0,r.kt)("em",{parentName:"p"},"Services")," implement various messenger features, as well as\nauthorizing Clients and Nodes to join the network. ",(0,r.kt)("em",{parentName:"p"},"Clients")," interact\nwith the network using a shared ",(0,r.kt)("a",{parentName:"p",href:"Client_API_(xxDK)",title:"wikilink"},"Client API\n(xxDK)"),". ",(0,r.kt)("em",{parentName:"p"},"Tools")," provide several\ninterfaces and utilities to deploy, test, and debug the network."),(0,r.kt)("p",null,"Most of the Elixxir code found in the Core and Services is written in\nthe Go programming language. The repositories listed as public below can\nbe found on the public ",(0,r.kt)("a",{parentName:"p",href:"https://git.xx.network/elixxir"},"Elixxir")," and ",(0,r.kt)("a",{parentName:"p",href:"https://git.xx.network/xx_network"},"xx\nnetwork")," Git pages. Most software is\nposted on a git server run by xx network."),(0,r.kt)("p",null,'xx Labs\' software is based on Substrate and involves a fork of Substrate\nand custom "pallets" implementing xx network-specific features. This\nsoftware is mainly hosted on public ',(0,r.kt)("a",{parentName:"p",href:"https://github.com/xx-labs"},"GitHub"),"\nrepositories but will be mostly moved to the ",(0,r.kt)("a",{parentName:"p",href:"https://git.xx.network/xx-labs"},"xx\nlabs")," on the xx network git shortly."),(0,r.kt)("p",null,"To follow the setup guide, most Node operators will likely elect to\ndownload the prepackaged tarballs containing the compiled binaries. To\nlearn more, refer to the ",(0,r.kt)("em",{parentName:"p"},"Node and Gateway Software")," section."),(0,r.kt)("h2",{id:"xx-network-codebase"},"xx network Codebase"),(0,r.kt)("h3",{id:"core"},"Core"),(0,r.kt)("h4",{id:"xx-networkprimitives"},"xx network/Primitives"),(0,r.kt)("p",null,"The xx network Primitives repository contains the basic data structures\nand utilities used in the Elixxir and Praxxis codebases. This includes\nthe ID structure for Nodes, Gateways, and users and the NDF structure.\nAdditional generic structures and utilities are also contained in\nPrimitives, such as file access and rate-limiting utilities."),(0,r.kt)("h4",{id:"xx-networkcrypto"},"xx network/Crypto"),(0,r.kt)("p",null,"The xx network Crypto repository contains cryptographic primitives that\nare shared between Elixxir and Praxxis codebases. Primarily lower-level\nprimitives, randomness generation, TLS handling, and nonce handling."),(0,r.kt)("h4",{id:"xx-networkcomms"},"xx network/Comms"),(0,r.kt)("p",null,"The Comms repository handles all network communication functionality as\nwell as all of the core connectivity logic. It includes generic comms\nhandlers and protocols and not specific implementations, which are\nimplemented in the respective Comm branches for each project."),(0,r.kt)("h4",{id:"xx-networkscheduling-scripts"},"xx network/Scheduling-Scripts"),(0,r.kt)("p",null,"Scripts used to direct the scheduling server based upon blockchain\nstate, as well as return state for tokenomics"),(0,r.kt)("h2",{id:"elixxir-codebase"},"Elixxir Codebase"),(0,r.kt)("h3",{id:"core-1"},"Core"),(0,r.kt)("h4",{id:"elixxirprimitives"},"Elixxir/Primitives"),(0,r.kt)("p",null,"The Elixxir Primitives repository contains the basic data structures and\nutilities that are used by all Elixxir repositories. This includes the\nuser fact structure, the cMix message structure, and the version object."),(0,r.kt)("h4",{id:"elixxircrypto"},"Elixxir/Crypto"),(0,r.kt)("p",null,"The Crypto repository encompasses all of the base cryptographic\nfunctionality found in the codebase. Relying heavily on Go\u2019s ",(0,r.kt)("em",{parentName:"p"},"big\ninteger")," implementation, Crypto features a cryptographically secure\nrandom number generator implementation, libraries for working with large\nintegers in modulo cyclic groups for cMix operations, and basic\nencrypt/decrypt functionality. Like Primitives, Crypto only contains\ncode that is generic to the larger system. A core approach to this\nrepository is to supply wrappers for operations that may require\nmigration to other implementations in the future."),(0,r.kt)("h4",{id:"elixxircomms"},"Elixxir/Comms"),(0,r.kt)("p",null,"Comms builds on the generic utilities of xx network Comms to provide\nspecific functionality for Elixxir. It holds a gRPC protocol file along\nwith a thin Client/Server implementation. The repository currently uses\nTLS certificates with RSA keys for encryption and identification, which\nwill migrate to xx consensus-based quantum secure authenticated channels\nas development progresses."),(0,r.kt)("h4",{id:"elixxirgpumaths"},"Elixxir/GPUMaths"),(0,r.kt)("p",null,"The GPUMaths repository accelerates the math used by Server, especially\nfor precomputations. It provides a subset of the math implemented in the\nCrypto repository but accelerated on GPUs. Underlying the acceleration\nis a publicly available CUDA arbitrary-precision math library, CGBN2.\nComponents of this written in CUDA are in a separate repository\n",(0,r.kt)("a",{parentName:"p",href:"https://gitlab.com/elixxir/gpumathsnative"},"gpumathsnative"),"."),(0,r.kt)("h3",{id:"services"},"Services"),(0,r.kt)("h4",{id:"elixxirserver"},"Elixxir/Server"),(0,r.kt)("p",null,"The Server repository implements the core cMix functionality and is the\nsoftware that a Node runs. It performs precomputation and real-time\ncomputation and processes messages. In addition, it receives batches of\nmessages from the Gateways as well as performs network team operations."),(0,r.kt)("h4",{id:"elixxirgateway"},"Elixxir/Gateway"),(0,r.kt)("p",null,"The Gateway repository contains the API for Clients to interact with the\nnetwork. Every Node runs a Gateway and the Gateways collect and store\nmessages for Clients. Gateway is designed to be a scalable front-end to\nthe xx network."),(0,r.kt)("h4",{id:"elixxirscheduling"},"Elixxir/Scheduling"),(0,r.kt)("p",null,"Permissioning, also referred to as Scheduling, manages the NDF for\nClients and Servers and schedules cMix rounds within the network.\nEventually, this functionality will be managed by the distributed xx\nconsensus. For now, this code handles admission, manages which Nodes are\npart of the network, and orchestrates when Nodes operate."),(0,r.kt)("h4",{id:"elixxirnotifications"},"Elixxir/Notifications"),(0,r.kt)("p",null,"Implements a private notifications system, allowing users to receive\nnotifications on their phone when using the xx messenger. Does so via\nFirebase for Android and Apple APNs for iOS."),(0,r.kt)("h4",{id:"elixxirauthorizer"},"Elixxir/Authorizer"),(0,r.kt)("p",null,"Edge server that Nodes contact to get let through the firewall to talk\nto the Scheduling server."),(0,r.kt)("h4",{id:"elixxirclient-registrar"},"Elixxir/Client Registrar"),(0,r.kt)("p",null,"Edge server which authorizes clients into the network"),(0,r.kt)("h3",{id:"clients"},"Clients"),(0,r.kt)("h4",{id:"elixxirclient-api-xxdk"},"Elixxir/Client API (xxDK)"),(0,r.kt)("p",null,"All Clients use the Client API to interact and send messages with the\ncMix network. In addition, it uses Go mobile to produce a library\ncompatible with iOS and Android."),(0,r.kt)("h4",{id:"elixxiruser-discovery-ud"},"Elixxir/User Discovery (UD)"),(0,r.kt)("p",null,'User Discovery helps users make the first contact with other users.\nUsing the "singe use" package within the xxDK, User Discovery implements\na completely private user lookup, where the system cannot determine\nwhich user is querying. The system leverages Twilio to verify emails and\nphone numbers if the user would like to do so.'),(0,r.kt)("h4",{id:"elixxirmobile-clients"},"Elixxir/Mobile Clients"),(0,r.kt)("p",null,"Currently, clients exist for iOS and Android operating systems. These\nboth use the Go mobile libraries produced in the Client API."),(0,r.kt)("p",null,"."),(0,r.kt)("h3",{id:"tools"},"Tools"),(0,r.kt)("h4",{id:"elixxirwrapper-script"},"Elixxir/Wrapper Script"),(0,r.kt)("p",null,"The Wrapper Script is a Node and Gateway management script that\nsimplifies the running of the xx network software. The script automates\nthe management of the xx network software log files. For easy management\nor in the event of an error, it starts, stops, and restarts the software\nwithout requiring the operator to revisit the command line. Optionally,\nit can automatically update the Node and Gateway with the latest xx\nnetwork binaries and configuration files. To learn more, refer to the\nWrapper Script Arguments section."),(0,r.kt)("h4",{id:"elixxirdevops"},"Elixxir/DevOps"),(0,r.kt)("p",null,"DevOps is a deployment platform for Microsoft Azure, Google Cloud\nPlatform, and Amazon Web Services (AWS) written in Terraform. DevOps\nallows for the deployment of test networks, management of deployments of\nindividual Nodes, and the deployment of multi-cloud implementations of\nxx network."),(0,r.kt)("h4",{id:"elixxirintegration"},"Elixxir/Integration"),(0,r.kt)("p",null,"The Integration repository is a series of end-to-end tests designed to\ntest different functionality of the cMix protocol. For example, several\ntests focus on different batch sizes with Nodes only. Another test\ncovers all the Client-level interactions within the network."),(0,r.kt)("h4",{id:"elixxirlocal-environment"},"Elixxir/Local Environment"),(0,r.kt)("p",null,"The Local Environment repository contains a set of scripts designed to\nallow testing the entire platform on a single machine."),(0,r.kt)("h3",{id:"version-scheme"},"Version Scheme"),(0,r.kt)("p",null,"Both Gateway and Node binaries have a version string embedded in them,\nconsisting of a major version, a minor version, and a patch string,\nseparated by a period."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Major"),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"Minor"),(0,r.kt)("th",{parentName:"tr",align:null}),(0,r.kt)("th",{parentName:"tr",align:null},"Patch"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"\u250c\u2534\u2510"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"\u250c\u2534\u2510"),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null},"\u250c\u2500\u2534\u2500\u2510")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"4"),(0,r.kt)("td",{parentName:"tr",align:null},"."),(0,r.kt)("td",{parentName:"tr",align:null},"2"),(0,r.kt)("td",{parentName:"tr",align:null},"."),(0,r.kt)("td",{parentName:"tr",align:null},"6ab")))),(0,r.kt)("p",null,"To participate in the network, a Node or Gateway has to have a\ncompatible version with the required version reported by the Scheduling\nserver. For a version to be compatible, the major version must be equal\nto the required major version and the minor version must be greater than\nor equal to the required minor version. The patch can be anything, but\nit will always be present."),(0,r.kt)("h2",{id:"xx-labs-codebase"},"xx labs Codebase"),(0,r.kt)("h4",{id:"xx-labssleeve"},"xx-labs/sleeve"),(0,r.kt)("p",null,"The xx labs sleeve repository contains code to generate Sleeve wallets.\nThe sleeve is a novel way of embedding a quantum secure key in the\ngeneration of curve-based, non-quantum secure keys. In addition, the\nrepository contains an implementation of the WOTS+ signature scheme,\nwhich is used as the quantum-secure fallback for Sleeve wallets."),(0,r.kt)("h4",{id:"xx-labsxxchain"},"xx-labs/xxchain"),(0,r.kt)("p",null,"The xxchain repository contains the code for the xx network blockchain\nnode, which is based on Substrate. It contains the following pallets\n(modules) that are necessary for xx network, among others:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"xx-betanet-rewards:")," allows users to select an option for the\nBetaNet Staking Rewards program, which can only be accepted and\nenacted after a Referendum passes using Democracy;"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"xx-cmix:")," hosts cMix variables and software hashes on-chain, and\nallows scheduling server to push points information according to\ncMix rounds completed/failed;"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"xx-economics:")," Implements the unique token economics of xx\nnetwork. This includes a rewards pool from which staking rewards are\ntaken, only leading to inflation of the total supply after the pool\nis empty, and an adjustable maximum inflation value according to\nblock number, which allows xx network\u2019s inflation to be decreasing\nover multiple years.")),(0,r.kt)("h4",{id:"xx-labssubstrate"},"xx-labs/substrate"),(0,r.kt)("p",null,"The xx labs substrate repository is a fork of the Substrate\n(",(0,r.kt)("a",{parentName:"p",href:"https://github.com/paritytech/substrate"},"https://github.com/paritytech/substrate"),") framework. The xx-network\nbranch of this repository contains Staking pallet modifications specific\nto the xx network, such as the inclusion of cMix IDs."))}x.isMDXComponent=!0}}]);